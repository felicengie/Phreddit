{"ast":null,"code":"var _jsxFileName = \"/Users/felice/Documents/project-habibi/client/src/components/CommunityPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { displayPosts, sortPosts, getTimeDifference } from './functions'; // Adjust import path for functions\nimport { UsePhredditContext } from './phredditContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CommunityPage = () => {\n  _s();\n  const {\n    communities,\n    loadPage,\n    posts,\n    currentCommunityID\n  } = UsePhredditContext();\n\n  //const communityData = model.data.communities.find(c => c.communityID === communityID)\n  //console.log(communityData)\n  //const communityPosts = model.data.posts.filter(post => communityData.postIDs.includes(post.postID))\n  const [community, setCommunity] = useState(null);\n  const [communityPosts, setCommunityPosts] = useState([]);\n  useEffect(() => {\n    const communityData = communities.find(c => c._id === currentCommunityID);\n    if (communityData) {\n      setCommunity(communityData);\n      const communityPosts = posts.filter(post => communityData.postIDs.includes(post._id));\n      setCommunityPosts(communityPosts);\n    }\n  }, [currentCommunityID]);\n  const handleSortChange = order => {\n    const sortedPosts = sortPosts(communityPosts, order); // Use your sorting function\n    setCommunityPosts(sortedPosts);\n  };\n  if (!community) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading community...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 26\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"communityPage\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"communityPage-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-text\",\n        children: community.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"viewPost-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"viewPost-button\",\n          onClick: () => handleSortChange('newest'),\n          children: \"Newest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"viewPost-button\",\n          onClick: () => handleSortChange('oldest'),\n          children: \"Oldest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"viewPost-button\",\n          onClick: () => handleSortChange('active'),\n          children: \"Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"community-description\",\n      children: community.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timestamp\",\n      children: `Created ${getTimeDifference(community.startDate.toLocaleString())}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [communityPosts.length, \" post(s) Members: \", community.memberCount]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"community-post-list\",\n      style: {\n        overflowY: 'scroll'\n      },\n      children: displayPosts({\n        posts: communityPosts,\n        showCommunityName: false\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(CommunityPage, \"IpQp8AfdQScT4TE7gdj3X1efRW0=\");\n_c = CommunityPage;\nexport default CommunityPage;\nvar _c;\n$RefreshReg$(_c, \"CommunityPage\");","map":{"version":3,"names":["React","useState","useEffect","displayPosts","sortPosts","getTimeDifference","UsePhredditContext","jsxDEV","_jsxDEV","CommunityPage","_s","communities","loadPage","posts","currentCommunityID","community","setCommunity","communityPosts","setCommunityPosts","communityData","find","c","_id","filter","post","postIDs","includes","handleSortChange","order","sortedPosts","children","fileName","_jsxFileName","lineNumber","columnNumber","className","name","onClick","description","startDate","toLocaleString","length","memberCount","id","style","overflowY","showCommunityName","_c","$RefreshReg$"],"sources":["/Users/felice/Documents/project-habibi/client/src/components/CommunityPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { displayPosts, sortPosts, getTimeDifference } from './functions'; // Adjust import path for functions\nimport { UsePhredditContext } from './phredditContext';\n\nconst CommunityPage = () => {\n    const {communities, loadPage, posts, currentCommunityID} = UsePhredditContext()\n\n  //const communityData = model.data.communities.find(c => c.communityID === communityID)\n  //console.log(communityData)\n  //const communityPosts = model.data.posts.filter(post => communityData.postIDs.includes(post.postID))\n  const [community, setCommunity] = useState(null);\n  const [communityPosts, setCommunityPosts] = useState([]);\n\n  useEffect(() => {\n    const communityData = communities.find(c => c._id === currentCommunityID);\n    if (communityData) {\n      setCommunity(communityData);\n      const communityPosts = posts.filter(post => communityData.postIDs.includes(post._id));\n      setCommunityPosts(communityPosts);\n    }\n  }, [currentCommunityID]);\n\n  \n  const handleSortChange = (order) => {\n    const sortedPosts = sortPosts(communityPosts, order); // Use your sorting function\n    setCommunityPosts(sortedPosts);\n  };\n\n  if (!community) return <div>Loading community...</div>;\n\n  return (\n    <div className=\"communityPage\">\n      <header className=\"communityPage-header\">\n        <div className=\"header-text\">{community.name}</div>\n        <div className=\"viewPost-buttons\">\n          <button className=\"viewPost-button\" onClick={() => handleSortChange('newest')}>Newest</button>\n          <button className=\"viewPost-button\" onClick={() => handleSortChange('oldest')}>Oldest</button>\n          <button className=\"viewPost-button\" onClick={() => handleSortChange('active')}>Active</button>\n        </div>\n      </header>\n\n      <div className=\"community-description\">{community.description}</div>\n      <div className=\"timestamp\">\n        {`Created ${getTimeDifference(community.startDate.toLocaleString())}`}\n      </div>\n\n      <div>{communityPosts.length} post(s) Members: {community.memberCount}</div>\n\n      \n      <div id=\"community-post-list\" style={{ overflowY: 'scroll' }}>\n        {displayPosts({ posts: communityPosts,showCommunityName: false})}\n      </div>\n    </div>\n  );\n};\n\nexport default CommunityPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}